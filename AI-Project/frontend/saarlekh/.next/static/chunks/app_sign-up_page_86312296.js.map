{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Desktop/Saarlekh%20AI%20pbl/AI-Project/frontend/saarlekh/app/sign-up/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { FaRegEnvelope } from \"react-icons/fa\";\r\nimport { MdLockOutline } from \"react-icons/md\";\r\nimport { toast } from \"sonner\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { TriangleAlert } from \"lucide-react\";\r\nimport { signIn } from \"next-auth/react\";\r\n\r\nexport default function SignUp() {\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    username: \"\",\r\n  });\r\n\r\n  const [signInPending, setSignInPending] = useState(false);\r\n  const [signUpPending, setSignUpPending] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const router = useRouter();\r\n\r\n  const handleSignIn = async (e) => {\r\n    e.preventDefault();\r\n    setSignInPending(true);\r\n    setError(\"\");\r\n\r\n    const result = await signIn(\"credentials\", {\r\n      redirect: false,\r\n      callbackUrl: \"/dashboard\",\r\n      email: form.email,\r\n      password: form.password,\r\n    });\r\n\r\n    if (result?.error) {\r\n      setSignInPending(false);\r\n      setError(\"Invalid email or password\");\r\n    } else {\r\n      toast.success(\"Signed in successfully!\", {\r\n        description: \"Redirecting to dashboard...\",\r\n        duration: 2000,\r\n      });\r\n\r\n      setTimeout(() => {\r\n        setSignInPending(false);\r\n        router.push(result.url || \"/dashboard\");\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const handleCreateAcc = async (e) => {\r\n    e.preventDefault();\r\n    setSignUpPending(true);\r\n    setError(\"\");\r\n\r\n    const res = await fetch(\"/api/auth/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(form),\r\n    });\r\n\r\n    setSignUpPending(false);\r\n\r\n    const data = await res.json();\r\n    if (!res.ok) {\r\n      setError(data?.error || \"Something went wrong\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Account created successfully!\", {\r\n      description: \"Redirecting to dashboard...\",\r\n      duration: 2000,\r\n    });\r\n\r\n    setTimeout(async () => {\r\n      const result = await signIn(\"credentials\", {\r\n        redirect: false,\r\n        email: form.email,\r\n        password: form.password,\r\n        callbackUrl: \"/dashboard\",\r\n      });\r\n\r\n      setSignUpPending(false);\r\n\r\n      if (result?.error) {\r\n        setError(\"Account created but failed to sign in\");\r\n      } else {\r\n        router.push(result.url || \"/dashboard\");\r\n      }\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative h-screen grid grid-rows-[20px_1fr_20px] items-center justify-items-center p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)] bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] overflow-hidden\">\r\n      <Image\r\n        src=\"/images/1355218.jpg\"\r\n        alt=\"Background\"\r\n        layout=\"fill\"\r\n        objectFit=\"cover\"\r\n        className=\"absolute inset-0 z-0 opacity-20\"\r\n      />\r\n\r\n      <main className=\"z-10 flex flex-col gap-[32px] row-start-2 items-center justify-center w-full\">\r\n        <div className=\"backdrop-blur-sm bg-[#1a1a2e]/70 border border-[#0ff]/20 text-white rounded-2xl shadow-[0_0_30px_#0ff5] flex w-full max-w-lg transition-all duration-300\">\r\n          <div className=\"p-5 w-full\">\r\n            <div className=\"text-left font-bold text-3xl tracking-wide\">\r\n              <span className=\"text-[#ff00cc]\">Saar</span>\r\n              <span className=\"text-[#00ffff]\">Lekh</span>\r\n            </div>\r\n\r\n            <div className=\"py-10 flex flex-col items-center text-center w-full\">\r\n              <h2 className=\"text-3xl font-bold text-[#00ffff] mb-2\">\r\n                Sign in\r\n              </h2>\r\n              <div className=\"border-2 w-10 border-[#ff00cc] inline-block mb-4 rounded\"></div>\r\n\r\n              {!!error && (\r\n                <div\r\n                  className=\"flex items-center w-64 bg-red-600 text-white text-sm px-4 py-2 rounded-xl mb-4 space-x-2 shadow-[0_0_5px_rgba(255,0,0,0.5)]\"\r\n                >\r\n                  <TriangleAlert className=\"flex-shrink-0\" size={18} />\r\n                  <span className=\"break-words\">{error}</span>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex flex-col items-center\">\r\n                <div className=\"bg-[#0f1533]/80 w-64 p-2 flex items-center mb-4 rounded-xl border border-[#ff00cc]/30 shadow-[0_0_10px_#ff00cc50]\">\r\n                  <FaRegEnvelope className=\"text-[#ff00cc] m-2\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    disabled={signInPending || signUpPending}\r\n                    placeholder=\"Email\"\r\n                    value={form.email}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, email: e.target.value })\r\n                    }\r\n                    className=\"outline-none text-sm flex-1 bg-transparent text-white placeholder-[#ffb3e6]\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"bg-[#0f1533]/80 w-64 p-2 flex items-center mb-4 rounded-xl border border-[#ff00cc]/30 shadow-[0_0_10px_#ff00cc50]\">\r\n                  <MdLockOutline className=\"text-[#ff00cc] m-2\" />\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    disabled={signInPending || signUpPending}\r\n                    placeholder=\"Password\"\r\n                    value={form.password}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, password: e.target.value })\r\n                    }\r\n                    className=\"outline-none text-sm flex-1 bg-transparent text-white placeholder-[#ffb3e6]\"\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleSignIn}\r\n                  disabled={signInPending}\r\n                  className=\"border-2 border-[#00ffff] text-[#00ffff] rounded-full px-12 py-2 inline-block font-semibold hover:bg-[#00ffff] hover:text-[#0f0c29] transition-all duration-300 shadow-[0_0_15px_#00ffff90] mt-3\"\r\n                >\r\n                  {signInPending ? \"Signing in...\" : \"Sign in\"}\r\n                </button>\r\n\r\n                <p className=\"mt-4 text-[#cccccc] text-sm\"> Or </p>\r\n\r\n                <button\r\n                  onClick={handleCreateAcc}\r\n                  disabled={signUpPending}\r\n                  className=\"border-2 border-[#ff00cc] text-[#ff00cc] rounded-full px-12 py-2 inline-block font-semibold hover:bg-[#ff00ff] hover:text-[#0f0c29] transition-all duration-300 shadow-[0_0_15px_#ff00cc90] mt-4\"\r\n                >\r\n                  {signUpPending ? \"Creating...\" : \"Create account\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}